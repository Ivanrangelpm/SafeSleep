<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SafeSleep | Gerenciar</title>
  <link href="./css/style.css" rel="stylesheet" />
  <link href="./css/gerenciar.css" rel="stylesheet" />
</head>

<body onload="pegarIncubadoras()">
  <div class="header">
    <a href="index.html"><img src="./images/ssLogoExtended.png" alt="logo" class="logo" /></a>
    <ul class="navbar">
      <li><a href="./perfil.html">Perfil</a></li>
      <li><a href="./bobia.html">bobIA</a></li>
      <li><a class="paginaAtual" href="./gerenciar.html">Gerenciar</a></li>
      <li><a href="./dashboard.html">Incubadoras</a></li>
      <li><a href="./index.html" class="sair">Sair</a></li>
    </ul>
  </div>
  <div class="main">
    <div class="leftDiv">
      <img src="./images/ssLogoName.png" alt="logomarca" class="leftLogo">
      <div class="topics">
        <h3>Cadastrar...</h3>
        <button onclick="form_Funcionario()" id="btn1">Funcionário</button>
        <button onclick="form_Incubadora()" id="btn2">Incubadora</button>
        <button onclick="form_Bebe()" id="btn3">Recém-Nascido</button>
        <h3>Gerenciar...</h3>
        <button onclick="form_RemoverBebe()" id="btn4">Remover Bebê</button>
        <button onclick="form_TrocarBebe()" id="btn5">Trocar Bebê</button>
        <!-- <button onclick="changeRegisterForm(4)" id="btn4">Responsável pela Criança</button> -->
      </div>
    </div>
    <div class="section">
      <div class="funcionario">
        <div class="form" id="form1">
          <h1>Cadastro de Funcionário</h1>
          <div class="inputs">
            <label>
              <span>Nome:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputFuncionarioNome" placeholder="Nome" />
            </label>
            <label>
              <span>Sobrenome:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputFuncionarioSobrenome" placeholder="Sobrenome" />
            </label>
            <label>
              <span>E-mail:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputFuncionarioEmail" placeholder="Email" />
            </label>
            <label>
              <span>CPF:<span class="campo_obrigatorio"> *</span></span>
              <input type="number" id="inputFuncionarioCpf" placeholder="xxx.xxx.xxx-xx" />
            </label>
            <label>
              <span>Licença Médica:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputFuncionarioLicenca" placeholder="Licença Médica" />
            </label>
            <label>
              <span>Senha:<span class="campo_obrigatorio"> *</span></span>
              <input type="password" id="inputFuncionarioSenha" placeholder="Senha" />
            </label>
            <label>
              <span>Confirme sua senha:<span class="campo_obrigatorio"> *</span></span>
              <input type="password" id="inputFuncionarioConfirmarSenha" placeholder="Senha" />
            </label>
          </div>
          <div id="erroFuncionario" class="erro"></div>
          <button onclick="cadastrarFuncionario()">Cadastrar</button>
        </div>
      </div>
      <div class="incubadora">
        <div class="form" id="form2">
          <h1>Cadastro de incubadoras</h1>
          <div class="inputs">
            <label>
              <span>Código de Série:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputIncubadoraCodigo" placeholder="Código" />
            </label>
            <label>
              <span>Modelo da Incubadora:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputIncubadoraModelo" placeholder="Modelo" />
            </label>
            <div id="erroIncubadora" class="erro"></div>
            <button onclick="cadastrarIncubadora()">Cadastrar</button>
          </div>
        </div>
      </div>
      <div class="bebe">
        <div class="form" id="form3">
          <h1>Cadastro de Recém-Nascido</h1>
          <div class="inputs">
            <label>
              <span>Nome:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputBebeNome" placeholder="Nome" />
            </label>
            <label>
              <span>Sobrenome:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputBebeSobrenome" placeholder="Sobrenome" />
            </label>
            <label>
              <span>Responsável:</span>
              <input type="text" id="inputBebeResponsavel" placeholder="Nome do Responsável" />
            </label>
            <label>
              <span>Código da incubadora:<span class="campo_obrigatorio"> *</span></span>
              <select id="inputBebeIncubadora" placeholder="Código de Série">
                <option disabled selected>Selecione</option>

              </select>
            </label>
            <label>
              <span>Data de nascimento:<span class="campo_obrigatorio"> *</span></span>
              <input type="date" id="inputBebeNasc" placeholder="dd/mm/aaaa" />
            </label>
            <label>
              <span>Sexo:<span class="campo_obrigatorio"> *</span></span>
              <select id="selectBebeSexo">
                <option disabled selected>Selecione</option>
                <option>Feminino</option>
                <option>Masculino</option>
              </select>
            </label>
            <label>
              <span>Prematuridade<span class="campo_obrigatorio"> *</span></span>
              <select id="selectBebePrematura">
                <option disabled selected>Selecione</option>
                <option value="0">Não</option>
                <option value="1">Sim</option>
              </select>
            </label>
            <div id="erroBebe" class="erro"></div>
            <button onclick="cadastrarBebe()">Cadastrar</button>
          </div>
        </div>
      </div>

      <div class="removerBebe">
        <div class="form" id="form4">
          <h1>Remover bebê</h1>
          <div class="inputs">
            <label>
              <span>Código de Série:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inpIncubadoraCodigo" placeholder="Código" />
            </label>
            <div id="erroIncubadora" class="erro"></div>
            <button onclick="removerBebe()">Finalizar uso da incubadora</button>
            <div id="mensagemSucesso"></div>
          </div>
        </div>
      </div>
      <div class="trocarBebe">
        <div class="form" id="form5">
          <h1>Trocar Bebê</h1>
          <div class="inputs">
            <label>
              <span>Código de Série da incubadora Antiga:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inpIncubadoraCodigoAntigo" placeholder="Código" />
            </label>
            <label>
              <span>Código de Série da nova incubadora:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inpIncubadoraCodigoNovo" placeholder="Código" />
            </label>
            <div id="erroIncubadora" class="erro"></div>
            <button onclick="trocarBebe()">Alterar bebê de incubadora</button>
            <div id="mensagemSucessoTroca"></div>
          </div>
        </div>
      </div>
      <!-- <div class="form" id="form4">
          <h1>Cadastro do Responsável</h1>
          <div class="inputs">
            <label>
              <span>Nome:<span class="campo_obrigatorio"> *</span></span>
              <input maxlength="50" type="text" id="inputResponsavelNome" placeholder="Nome"/>
            </label>
            <label>
              <span>Sobrenome:<span class="campo_obrigatorio"> *</span></span>
              <input maxlength="50" type="text" id="inputResponsavelSobrenome" placeholder="Sobrenome"/>
            </label>
            <label>
              <span>CPF:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputResponsavelCpf" placeholder="xxx.xxx.xxx-xx"/>
            </label>
            <label>
              <span>E-mail:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputResponsavelEmail" placeholder="E-mail"/>
            </label>
            <label>
              <span>Telefone:<span class="campo_obrigatorio"> *</span></span>
              <input type="text" id="inputResponsavelTelefone" placeholder="(xx) xxxxx-xxxx"/>
            </label>
            <label>
              <span>Parentesco:<span class="campo_obrigatorio"> *</span></span>
              <select id="selectParentesco">
                <option disabled selected>Selecione</option>
                <option>Mãe</option>
                <option>Pai</option>
                <option>Irmão / Irmã </option>
                <option>Avô / Avó</option>
                <option>Tio / Tia</option>
                <option>Outro</option>
              </select>
            </label>
            <span id="spanResponseResponsavel" class="error"></span>
            <button onclick="cadastrarResponsavel()">Cadastrar</button>
          </div>
        </div> -->
    </div>
  </div>
  <div class="footer">
    <div class="developers">
      <h3>Desenvolvedores da SafeSleep</h3>
      <ul>
        <li>Bruno Yuji Takahashi - bruno.ytakahashi@sptech.school</li>
        <li>Diego Crispim dos Santos Campos - diego.campos@sptech.school</li>
        <li>Fabricio Prudente Ferreira - fabricio.ferreira@sptech.school</li>
        <li>Ivan Rangel Pestana Marcolin - ivan.marcolin@sptech.school</li>
        <li>Lucas Tetsuo Nagasse - lucas.nagasse@sptech.school</li>
        <li>Matheus Yukio Makiyama - matheus.makiyama@sptech.school</li>
        <li>Renan Rocha Pacanaro Trinca - renan.trinca@sptech.school</li>
      </ul>
    </div>
    <div class="contact">
      <h3>Suporte:</h3>
      <ul>
      <li>support@safe-sleep.atlassian.net</li>
      <li> <a href="https://safe-sleep.atlassian.net/servicedesk/customer/portal/1">https://safe-sleep.atlassian.net/servicedesk/customer/portal/1</a> </li>
      </ul>
      <img src="./images/ssLogoName.png" class="logo" />
    </div>
  </div>
</body>

</html>
<script>
  // function changeRegisterForm(form){
  //   var form1 = document.getElementById('form1');
  //   var form2 = document.getElementById('form2');
  //   var form3 = document.getElementById('form3');
  //   var form4 = document.getElementById('form4');
  //   var btn1 = document.getElementById('btn1');
  //   var btn2 = document.getElementById('btn2');
  //   var btn3 = document.getElementById('btn3');
  //   var btn4 = document.getElementById('btn4');

  //   //Funcionário
  //   if(form == 1){
  //     form1.style.display = 'flex';
  //     form2.style.display = 'none';
  //     form3.style.display = 'none';
  //     form4.style.display = 'none';
  //     btn1.style.backgroundColor = '#19A7A8';
  //     btn2.style.backgroundColor = '#2d4053';
  //     btn3.style.backgroundColor = '#2d4053';
  //     btn4.style.backgroundColor = '#2d4053';
  //   }

  //   //Incubadora
  //   else if(form == 2){
  //     form1.style.display = 'none';
  //     form2.style.display = 'flex';
  //     form3.style.display = 'none';
  //     form4.style.display = 'none';
  //     btn1.style.backgroundColor = '#2d4053';
  //     btn2.style.backgroundColor = '#19A7A8';
  //     btn3.style.backgroundColor = '#2d4053';
  //     btn4.style.backgroundColor = '#2d4053';
  //   }

  //   //Bebê
  //   else if(form == 3){
  //     form1.style.display = 'none';
  //     form2.style.display = 'none';
  //     form3.style.display = 'flex';
  //     form4.style.display = 'none';
  //     btn1.style.backgroundColor = '#2d4053';
  //     btn2.style.backgroundColor = '#2d4053';
  //     btn3.style.backgroundColor = '#19A7A8';
  //     btn4.style.backgroundColor = '#2d4053';
  //   }

  //   //Responsável
  //   else {
  //     form1.style.display = 'none';
  //     form2.style.display = 'none';
  //     form3.style.display = 'none';
  //     form4.style.display = 'flex';
  //     btn1.style.backgroundColor = '#2d4053';
  //     btn2.style.backgroundColor = '#2d4053';
  //     btn3.style.backgroundColor = '#2d4053';
  //     btn4.style.backgroundColor = '#19A7A8';
  //   }
  // }

  var form1 = document.getElementById("form1");
  var form2 = document.getElementById("form2");
  var form3 = document.getElementById("form3");
  var form4 = document.getElementById("form4");
  var form5 = document.getElementById("form5");

  

  function form_Funcionario() {
    form1.style.display = "flex";
    form2.style.display = "none";
    form3.style.display = "none";
    form4.style.display = "none";
    form5.style.display = "none";
    btn1.style.backgroundColor = "#19A7A8";
    btn2.style.backgroundColor = "#2d4053";
    btn3.style.backgroundColor = "#2d4053";
    btn4.style.backgroundColor = "#2d4053";
    btn5.style.backgroundColor = "#2d4053";
  }

  function form_Incubadora() {
    form1.style.display = "none";
    form2.style.display = "flex";
    form3.style.display = "none";
    form4.style.display = "none";
    form5.style.display = "none";

    btn1.style.backgroundColor = "#2d4053";
    btn2.style.backgroundColor = "#19A7A8";
    btn3.style.backgroundColor = "#2d4053";
    btn4.style.backgroundColor = "#2d4053";
    btn5.style.backgroundColor = "#2d4053";

  }

  function form_Bebe() {
    form1.style.display = "none";
    form2.style.display = "none";
    form3.style.display = "flex";
    form4.style.display = "none";
    form5.style.display = "none";

    btn1.style.backgroundColor = "#2d4053";
    btn2.style.backgroundColor = "#2d4053";
    btn3.style.backgroundColor = "#19A7A8";
    btn4.style.backgroundColor = "#2d4053";
    btn5.style.backgroundColor = "#2d4053";

  }

  function form_RemoverBebe(){
    form1.style.display = "none";
    form2.style.display = "none";
    form3.style.display = "none";
    form4.style.display = "flex";
    form5.style.display = "none";

    btn1.style.backgroundColor = "#2d4053";
    btn2.style.backgroundColor = "#2d4053";
    btn3.style.backgroundColor = "#2d4053";
    btn4.style.backgroundColor = "#19A7A8";
    btn5.style.backgroundColor = "#2d4053";

  }

  function form_TrocarBebe(){
    form1.style.display = "none";
    form2.style.display = "none";
    form3.style.display = "none";
    form4.style.display = "none";
    form5.style.display = "flex";

    btn1.style.backgroundColor = "#2d4053";
    btn2.style.backgroundColor = "#2d4053";
    btn3.style.backgroundColor = "#2d4053";
    btn4.style.backgroundColor = "#2d4053";
    btn5.style.backgroundColor = "#19A7A8";
  }



  function cadastrarFuncionario() {
    var nome = inputFuncionarioNome.value;
    var sobrenome = inputFuncionarioSobrenome.value;
    var email = inputFuncionarioEmail.value;
    var cpf = inputFuncionarioCpf.value;
    var licenca = inputFuncionarioLicenca.value;
    var senha = inputFuncionarioSenha.value;
    var senha2 = inputFuncionarioConfirmarSenha.value;
    var cargo = "Funcionário"; //Essa variável só será utilizada no banco de dados
    var text = "";

    var index =
      senha.indexOf("!") >= 0 ||
      senha.indexOf("@") >= 0 ||
      senha.indexOf("#") >= 0 ||
      senha.indexOf("$") >= 0 ||
      senha.indexOf("%") >= 0 ||
      senha.indexOf("&") >= 0 ||
      senha.indexOf("/") >= 0 ||
      senha.indexOf("*") >= 0 ||
      senha.indexOf("_") >= 0 ||
      senha.indexOf("?") >= 0 ||
      senha.indexOf("-") >= 0;

    var tamanhoTexto = "16px";
    var corTexto = "red";

    if (
      nome == "" ||
      sobrenome == "" ||
      email == "" ||
      cpf == "" ||
      licenca == "" ||
      senha == "" ||
      senha2 == ""
    )
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: Você não preencheu todos os campos.";
    else if (isNaN(nome) == false)
      text = "Falha ao cadastrar o funcionário!<br><br>Motivo: Nome inválido";
    else if (isNaN(sobrenome) == false)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: Sobrenome inválido";
    else if (index == false)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: É necessário que a senha possua algum caracter especial.<br><br>Caracteres Especiais: ! @ # $ % & / * _ ? -";
    else if (email.indexOf("@") == -1 || email.indexOf(".") == -1)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: É necessário que o email possua dois caracteres específicos.<br><br> Caracteres Específicos: @ .";
    else if (licenca.startsWith("CRM/") == false)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: Licença Médica inválida!";
    else if (senha != senha2)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: As senhas não se confere.";
    else if (senha.length < 8)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: A senha deve conter 8 caracteres ou mais.";
    else if (cpf.length != 11)
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: O CPF do funcionário não possui a quantidade correta de caracteres.";
    else if (cpf.indexOf("e") >= 0 || isNaN(Number(cpf)))
      text =
        "Falha ao cadastrar o funcionário!<br><br>Motivo: O CPF possui caracteres inválidos. Insira apenas números.";
    else {
      text = `Médico Cadastrado!`;
      corTexto = "#19A7A8";
      tamanhoTexto = "22px";

      fetch("/usuarios/cadastrar", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          nomeServer: nome,
          sobrenomeServer: sobrenome,
          emailFuncServer: email,
          cpfServer: cpf,
          licencaServer: licenca,
          cargoServer: cargo,
          senhaServer: senha,
          fkHospitalServer: sessionStorage.ID_HOSPITAL,
        }),
      })
        .then(function (respostaFuncionario) {
          console.log("Resposta funcionario: ", respostaFuncionario);
          if (respostaFuncionario.ok) {
            //cardErro.style.display = "block";

            //mensagem_erro.innerHTML =
            //"Cadastro realizado com sucesso! Redirecionando para tela de Login...";

            setTimeout(() => {
              window.location.reload(true);
            }, "2000");

            //limparFormulario();
            // finalizarAguardar();
          } else {
            throw "Houve um erro ao tentar realizar o cadastro!";
          }
        })
        .catch(function (respostaFuncionario) {
          console.log(`#ERRO:`, respostaFuncionario);
          // finalizarAguardar();
        });
    }

    document.getElementById("erroFuncionario").style.color = corTexto;
    document.getElementById("erroFuncionario").style.fontSize = tamanhoTexto;
    erroFuncionario.innerHTML = text;
  }

  function cadastrarIncubadora() {
    var codigo = inputIncubadoraCodigo.value;
    var modelo = inputIncubadoraModelo.value;
    var tamanhoCodigo = codigo.length;
    var text = "";
    var corTexto = "red";
    var tamanhoTexto = "16px";

    if (codigo == "" || modelo == "")
      text =
        "Falha ao cadastrar a incubadora!<br><br>Motivo: Você não preencheu todos os campos.";
    else if (tamanhoCodigo > 10)
      text = `Falha ao cadastrar a incubadora!<br><br>Motivo: O código da incubadora só pode ter menos de 10 caracteres!`;
    else {
      text = `Incubadora Cadastrada!`;
      corTexto = "#19A7A8";
      tamanhoTexto = "22px";

      fetch("/incubadora/cadastrar", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          codigoServer: codigo,
          modeloServer: modelo,
          fkHospitalServer: sessionStorage.ID_HOSPITAL,
        }),
      })
        .then(function (respostaIncubadora) {
          console.log("Resposta incubadora: ", respostaIncubadora);
          if (respostaIncubadora.ok) {
            //cardErro.style.display = "block";

            //mensagem_erro.innerHTML =
            //"Cadastro realizado com sucesso! Redirecionando para tela de Login...";

            setTimeout(() => {
              window.location.reload(true);
            }, "2000");

            //limparFormulario();
            // finalizarAguardar();
          } else {
            throw "Houve um erro ao tentar realizar o cadastro!";
          }
        })
        .catch(function (respostaIncubadora) {
          console.log(`#ERRO:`, respostaIncubadora);
          // finalizarAguardar();
        });
    }

    document.getElementById("erroIncubadora").style.color = corTexto;
    document.getElementById("erroIncubadora").style.fontSize = tamanhoTexto;
    erroIncubadora.innerHTML = text;
  }

  function pegarIncubadoras() {
    fetch("/incubadora/pegarIncubadoras", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
    })
      .then(function (respostaIncubadora) {
        console.log(respostaIncubadora);

        if (respostaIncubadora.ok) {
          respostaIncubadora.json().then((respostaIncubadora) => {
            console.log(respostaIncubadora);

            var opcoes = document.getElementById("inputBebeIncubadora");

            for (var i = 0; i < respostaIncubadora.resposta.length; i++) {
              var codigo = respostaIncubadora.resposta[i].codigoDeSerie;
              var incubadora = document.createElement("option");

              incubadora.value = codigo;
              incubadora.innerHTML = codigo;

              opcoes.appendChild(incubadora);
            }
          });
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (erro) {
        console.log(`#ERRO:`, erro);
      });
  }

  function cadastrarBebe() {
    var nome = inputBebeNome.value;
    var sobrenome = inputBebeSobrenome.value;
    var responsavel = inputBebeResponsavel.value;
    var incubadora = inputBebeIncubadora.value;
    var dtNasc = inputBebeNasc.value;
    var sexo = selectBebeSexo.value;
    var prematuro = selectBebePrematura.value;
    var text = "";
    var corTexto = "red";
    var tamanhoTexto = "16px";

    if (
      nome == "" ||
      incubadora == "" ||
      dtNasc == "" ||
      sexo == "Selecione" ||
      prematuro == "Selecione"
    )
      text =
        "Falha ao cadastrar o bebê!<br><br>Motivo: Você não preencheu todos os campos.";
    else if (isNaN(nome) == false)
      text = "Falha ao cadastrar o bebê!<br><br>Motivo: Nome inválido";
    else {
      fetch("/bebe/cadastrar", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          nomeServer: nome,
          sobrenomeServer: sobrenome,
          dtnascServer: dtNasc,
          sexoServer: sexo,
          incubadoraServer: incubadora, // VER MELHOR FORMA DE INSERIR EM OUTRA TABELA
          prematuroServer: prematuro,
        }),
      })
        .then(function (respostabebe) {
          console.log("Resposta bebe: ", respostabebe);
          if (respostabebe.ok) {
            text = "Bebê Cadastrado!";
            corTexto = "#19A7A8";
            tamanhoTexto = "22px";
            //cardErro.style.display = "block";

            //mensagem_erro.innerHTML =
            //"Cadastro realizado com sucesso! Redirecionando para tela de Login...";

            setTimeout(() => {
              window.location.reload(true);
            }, "2000");

            //limparFormulario();
            // finalizarAguardar();
          } else {
            throw "Houve um erro ao tentar realizar o cadastro!";
          }
        })
        .catch(function (respostabebe) {
          console.log(`#ERRO:`, respostabebe);
          // finalizarAguardar();
        });
    }

    document.getElementById("erroBebe").style.color = corTexto;
    document.getElementById("erroBebe").style.fontSize = tamanhoTexto;
    erroBebe.innerHTML = text;
  }

  function trocarBebe(){
    var codigoAntigo = inpIncubadoraCodigoAntigo.value;
    var codigoNovo = inpIncubadoraCodigoNovo.value;
    fetch("/incubadora/trocarBebe", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          codigoAntigoServer: codigoAntigo,
          codigoNovoServer: codigoNovo,

        }),
      }).then(function (respostaIncubadora) {
        console.log(respostaIncubadora);

        if (respostaIncubadora.ok) {
          respostaIncubadora.json().then((respostaIncubadora) => {
            console.log(respostaIncubadora[0]);

            var resposta = respostaIncubadora[0];
            var fkBebe = resposta.fkBebe;
            trocarBebe2(fkBebe);
// O Miguel Camargo foi tirado da incubadora numero 321 as 13:29
          });
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (erro) {
        console.log(`#ERRO:`, erro);
      });

  }

  function trocarBebe2(fkBebe) {
    alert('Cheguei')
    
    var codigoAntigo = inpIncubadoraCodigoAntigo.value;
    var codigoNovo = inpIncubadoraCodigoNovo.value;

    fetch("/incubadora/trocarBebe2", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          
          codigoAntigoServer: codigoAntigo,
          codigoNovoServer: codigoNovo,
          fkBebeServer: fkBebe,

        }),
      }).then(function (respostaIncubadora) {
        console.log(respostaIncubadora);

        if (respostaIncubadora.ok) {
          respostaIncubadora.json().then((respostaIncubadora) => {
            console.log(respostaIncubadora[0]);

            var resposta = respostaIncubadora[0];
            var nome = resposta.nome;
            var sobrenome = resposta.sobrenome;

            mensagemSucessoTroca.innerHTML = `${nome} ${sobrenome} saiu da incubadora ${codigoAntigo} e foi para ${codigoNovo}`
// O Miguel Camargo foi tirado da incubadora numero 321 as 13:29
          });
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (erro) {
        console.log(`#ERRO:`, erro);
      });



  }



  function removerBebe() {
    var codigo = inpIncubadoraCodigo.value;
    fetch("/incubadora/removerBebe", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          codigoServer: codigo,
        }),
      }).then(function (respostaIncubadora) {
        console.log(respostaIncubadora);

        if (respostaIncubadora.ok) {
          respostaIncubadora.json().then((respostaIncubadora) => {
            console.log(respostaIncubadora[0]);

            var resposta = respostaIncubadora[0];

            var nome = resposta.nome;
            var sobrenome = resposta.sobrenome;
// O Miguel Camargo foi tirado da incubadora numero 321 as 13:29
            mensagemSucesso.innerHTML = `${nome} ${sobrenome} finalizou sua estadia na incubadora número ${codigo}`
          });
        } else {
          throw "Houve um erro ao tentar realizar o cadastro!";
        }
      })
      .catch(function (erro) {
        console.log(`#ERRO:`, erro);
      });
  }






  // function cadastrarResponsavel() {
  //   var nome = inputResponsavelNome.value;
  //   var apelido = inputResponsavelApelido.value;
  //   var cpf = inputResponsavelCpf.value;
  //   var email = inputResponsavelEmail.value;
  //   var telefone = inputResponsavelTelefone.value;
  //   var parentesco = inputResponsavelParentesco.value;
  //   var tamanhoCpf = cpf.length;
  //   if (tamanhoCpf != 11) {
  //     erroResponsavel.innerHTML = `O CPF precisa ter 11 digitos !`

  //   } else {
  //     erroResponsavel.innerHTML = `<b style="color: rgb(8, 234, 12);">Responsavel cadastrado!</b>`
  //   }
  // }
</script>